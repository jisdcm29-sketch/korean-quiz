<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ë‹¨ì–´ í€´ì¦ˆ</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; text-align: center; background-color: #f4f7f6; padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; }
        input { width: 80%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; }
        button { background-color: #4CAF50; color: white; padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 10px; }
        .choice-btn { display: block; width: 100%; margin: 8px 0; background-color: #e7f3ff; color: #333; text-align: left; }
        .choice-btn:hover { background-color: #d1e9ff; }
        #quiz-section, #result-section { display: none; }
    </style>
</head>
<body>

<div class="container">
    <div id="start-section">
        <h2>í•œêµ­ì–´ ë‹¨ì–´ ì—°ìŠµ (Ò®Ğ³Ğ¸Ğ¹Ğ½ ÑĞ°Ğ½Ğ³Ğ¸Ğ¹Ğ½ Ñ‚ĞµÑÑ‚)</h2>
        <p>ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” (ĞÑÑ€ÑÑ Ğ¾Ñ€ÑƒÑƒĞ»Ğ½Ğ° ÑƒÑƒ)</p>
        <input type="text" id="userName" placeholder="ì´ë¦„ (ĞÑÑ€)">
        <br>
        <button onclick="startQuiz()">ì‹œì‘ (Ğ­Ñ…Ğ»ÑÑ…)</button>
    </div>

    <div id="quiz-section">
        <h3 id="question-number"></h3>
        <p id="question-text" style="font-size: 24px; font-weight: bold;"></p>
        <div id="choices"></div>
    </div>

    <div id="result-section">
        <h2 id="result-title"></h2>
        <p id="result-msg" style="font-size: 18px; line-height: 1.6;"></p>
        <button id="retry-btn" onclick="retryQuiz()" style="display:none;">ë‹¤ì‹œ ì‹œë„ (Ğ”Ğ°Ñ…Ğ¸Ğ½ Ğ¾Ñ€Ğ¾Ğ»Ğ´Ğ¾Ñ…)</button>
    </div>
</div>

<script>
    // ì„ ìƒë‹˜ì´ ìˆ˜ì •í•˜ì‹¤ ë‹¨ì–´ ëª©ë¡ (í•œêµ­ì–´: 'ëœ»')
    const wordList = [
        { q: "í•™êµ", a: "Ğ¡ÑƒÑ€Ğ³ÑƒÑƒĞ»ÑŒ", choices: ["Ğ¡ÑƒÑ€Ğ³ÑƒÑƒĞ»ÑŒ", "Ğ“ÑÑ€", "ĞĞ¾Ğ¼Ñ‹Ğ½ ÑĞ°Ğ½", "Ğ¦ÑÑ†ÑÑ€Ğ»ÑĞ³"] },
        { q: "ì„ ìƒë‹˜", a: "Ğ‘Ğ°Ğ³Ñˆ", choices: ["Ğ‘Ğ°Ğ³Ñˆ", "ĞÑÑƒÑ‚Ğ°Ğ½", "Ğ­Ğ¼Ñ‡", "Ğ–Ğ¾Ğ»Ğ¾Ğ¾Ñ‡"] },
        { q: "í•™ìƒ", a: "ĞÑÑƒÑ‚Ğ°Ğ½", choices: ["ĞÑÑƒÑ‚Ğ°Ğ½", "Ğ‘Ğ°Ğ³Ñˆ", "ĞĞ°Ğ¹Ğ·", "ĞĞ°Ğ²"] },
        { q: "ì±…ìƒ", a: "Ğ¨Ğ¸Ñ€ÑÑ", choices: ["Ğ¨Ğ¸Ñ€ÑÑ", "Ğ¡Ğ°Ğ½Ğ´Ğ°Ğ»", "Ğ¦Ğ¾Ğ½Ñ…", "Ğ¥Ğ°Ğ°Ğ»Ğ³Ğ°"] },
        { q: "ì˜ì", a: "Ğ¡Ğ°Ğ½Ğ´Ğ°Ğ»", choices: ["Ğ¡Ğ°Ğ½Ğ´Ğ°Ğ»", "Ğ¨Ğ¸Ñ€ÑÑ", "ĞÑ€", "Ğ¢Ğ¾Ğ»ÑŒ"] }
    ];

    let currentIdx = 0;
    let score = 0;
    let attempts = localStorage.getItem('attempts') ? parseInt(localStorage.getItem('attempts')) : 0;
    let name = "";

    function startQuiz() {
        name = document.getElementById('userName').value;
        if (!name) { alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!"); return; }
        document.getElementById('start-section').style.display = 'none';
        document.getElementById('quiz-section').style.display = 'block';
        showQuestion();
    }

    function showQuestion() {
        if (currentIdx < wordList.length) {
            const item = wordList[currentIdx];
            document.getElementById('question-number').innerText = `ë¬¸ì œ ${currentIdx + 1} / ${wordList.length}`;
            document.getElementById('question-text').innerText = item.q;
            const choicesDiv = document.getElementById('choices');
            choicesDiv.innerHTML = "";
            item.choices.forEach(c => {
                const btn = document.createElement('button');
                btn.className = 'button choice-btn';
                btn.innerText = c;
                btn.onclick = () => checkAnswer(c);
                choicesDiv.appendChild(btn);
            });
        } else {
            finishQuiz();
        }
    }

    function checkAnswer(answer) {
        if (answer === wordList[currentIdx].a) score += (100 / wordList.length);
        currentIdx++;
        showQuestion();
    }

    function finishQuiz() {
        attempts++;
        localStorage.setItem('attempts', attempts);
        document.getElementById('quiz-section').style.display = 'none';
        document.getElementById('result-section').style.display = 'block';
        
        const finalScore = Math.round(score);
        const resultTitle = document.getElementById('result-title');
        const resultMsg = document.getElementById('result-msg');
        const retryBtn = document.getElementById('retry-btn');

        if (finalScore >= 80 || attempts >= 5) {
            resultTitle.innerText = "ğŸ‰ í•©ê²©! (Ğ¢ÑĞ½Ñ†Ğ»ÑÑ!)";
            resultMsg.innerHTML = `${name} ë‹˜, ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!<br>ì ìˆ˜: ${finalScore}ì  / ì‹œë„ íšŸìˆ˜: ${attempts}íšŒ<br><br><b>ì´ í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ì„ ìƒë‹˜ê»˜ ë³´ë‚´ì£¼ì„¸ìš”.</b>`;
            retryBtn.style.display = 'none';
            localStorage.removeItem('attempts'); // í•©ê²© ì‹œ íšŸìˆ˜ ì´ˆê¸°í™”
        } else {
            resultTitle.innerText = "â³ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš” (Ğ”Ğ°Ñ…Ğ¸Ğ½ Ğ¾Ñ€Ğ¾Ğ»Ğ´Ğ¾Ñ…)";
            resultMsg.innerHTML = `${name} ë‹˜, ì¡°ê¸ˆ ë” ë…¸ë ¥í•´ë´ìš”!<br>ì ìˆ˜: ${finalScore}ì <br>(í˜„ì¬ ${attempts}íšŒ ì‹œë„ ì¤‘)`;
            retryBtn.style.display = 'inline-block';
        }
    }

    function retryQuiz() {
        currentIdx = 0; score = 0;
        document.getElementById('result-section').style.display = 'none';
        document.getElementById('quiz-section').style.display = 'block';
        showQuestion();
    }
</script>
</body>
</html>