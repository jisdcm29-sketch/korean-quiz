<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>1A · 5-р хичээл · Үгийн тест</title>

  <style>
    :root{
      --bg:#f0f4f8; --card:#ffffff; --primary:#2d6cdf; --primary2:#1f4ea5;
      --text:#223047; --muted:#6a7a8e; --line:#d9e4f5;
      --warnbg:#fff5f5; --warnline:#feb2b2; --warntext:#7a1f1f;
      --ok:#0f7a3d; --bad:#c0392b; --orange:#e67e22;
    }
    *{box-sizing:border-box}
    body{margin:0; padding:20px; font-family:Arial,sans-serif; background:var(--bg); color:var(--text); text-align:center;}
    .container{max-width:560px; margin:0 auto; background:var(--card); padding:26px; border-radius:20px; border:1px solid var(--line); box-shadow:0 10px 20px rgba(0,0,0,0.08);}
    h1{margin:0; font-size:22px; color:#1f2f45;}
    .topline{display:flex; justify-content:space-between; align-items:center; gap:10px; margin-top:10px; flex-wrap:wrap;}
    .badge{display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid #d7dee7; background:#f6f9ff; font-size:12px; font-weight:900; color:#2c3e50;}
    .nameBox{font-size:14px; color:#4b5b6f; text-align:left;}
    .nameBox b{color:#1f2f45;}
    .btn{width:100%; background:var(--primary); color:#fff; padding:14px 12px; border:none; border-radius:12px; cursor:pointer; font-size:16px; font-weight:900; transition:.2s;}
    .btn:hover{background:var(--primary2);}
    .btnGray{background:#eef2f7; color:#223047; border:1px solid #d7dee7;}
    .btnGray:hover{background:#e2e8f0;}
    .btnRow{display:flex; gap:10px; margin-top:14px;}
    .qno{margin-top:14px; color:var(--primary); font-weight:900; font-size:15px;}
    .inst{margin-top:10px; background:#eef2f7; border:1px solid #d7dee7; padding:10px; border-radius:10px; color:#223047; font-size:14px;}
    .question{margin:18px 0 10px; font-size:34px; font-weight:900; color:#1f2f45; word-break:keep-all;}
    .choice{
      width:100%; margin:10px 0; padding:14px 12px; border-radius:12px;
      border:2px solid var(--primary); background:#fff; color:#223047;
      font-size:18px; font-weight:900; cursor:pointer; transition:.15s;
    }
    .choice:hover{background:var(--primary); color:#fff;}
    .hidden{display:none;}
    .warn{margin-top:14px; background:var(--warnbg); border:1px solid var(--warnline); border-radius:12px; padding:12px; color:var(--warntext); font-size:14px; line-height:1.45; text-align:left;}
    .panel{margin-top:16px; padding:14px; border:1px solid var(--line); border-radius:14px; background:#fff; text-align:left;}
    .score{font-size:26px; font-weight:900; color:var(--bad); margin:10px 0;}
    .wrongList{max-height:300px; overflow:auto; padding:12px; border-radius:12px; border:1px solid var(--warnline); background:var(--warnbg);}
    .wrongItem{padding:8px 0; border-bottom:1px dashed var(--warnline); font-size:15px;}
    .wrongItem:last-child{border-bottom:none;}
    .note{margin-top:10px; color:var(--muted); font-size:13px; line-height:1.45;}
    .resultCard{border:2px solid #cfe0ff; background:#f6f9ff; border-radius:14px; padding:14px; margin-top:14px; text-align:left;}
    .resultCard p{margin:8px 0; font-size:15px; line-height:1.55;}
    .bigMsg{font-size:18px; font-weight:900;}
    .center{text-align:center;}
    .overlay{position:fixed; inset:0; background:rgba(0,0,0,0.45); display:none; align-items:center; justify-content:center; padding:18px;}
    .modal{max-width:560px; width:100%; background:#fff; border-radius:16px; padding:16px; border:1px solid #d7dee7; box-shadow:0 10px 25px rgba(0,0,0,0.18); text-align:left;}
    .modal h2{margin:0; font-size:18px; color:#1f2f45;}
    .modal p{margin:10px 0; color:#223047; line-height:1.55; font-size:14px;}
  </style>
</head>

<body>
<div class="container">
  <div class="topline">
    <div class="nameBox">
      <div><span class="badge">1A · 5-р хичээл</span></div>
      <div style="margin-top:6px;">Нэр: <b id="studentName">—</b></div>
      <div>Анги: <b id="klassName">—</b></div>
    </div>
    <button class="btn btnGray" onclick="goHome()">Эхлэл</button>
  </div>

  <div id="errorSection" class="warn hidden"></div>

  <div id="quizSection" class="hidden">
    <div class="qno" id="qno"></div>
    <div class="inst" id="inst"></div>
    <div class="question" id="qtext"></div>
    <div id="choices"></div>
    <div class="note">Санамж: Алдаа гаргасан үгсийг төгсгөлд нь дахин харуулна.</div>
  </div>

  <div id="reviewSection" class="hidden">
    <h1 style="color:var(--orange);">Алдаагаа шалгана уу</h1>
    <p class="note">Эдгээр үгсийг дахин хараад, дараа нь дахин оролдоно уу.</p>

    <div class="panel">
      <div class="score" id="reviewScore"></div>
      <div class="wrongList" id="wrongList"></div>
      <div class="note" id="attemptInfo"></div>

      <div class="btnRow">
        <button class="btn" style="background:var(--orange);" onclick="retry()">Дахин оролдох</button>
        <button class="btn btnGray" onclick="goHome()">Эхлэл</button>
      </div>
    </div>
  </div>

  <div id="resultSection" class="hidden">
    <h1 style="color:var(--ok);">Тэнцлээ!</h1>

    <div class="resultCard">
      <p class="bigMsg" id="resultLine1"></p>
      <p class="center"><span class="score" id="finalScore"></span></p>
      <p id="resultLine2"></p>
      <p id="resultDate"></p>
      <p style="margin-top:12px; font-weight:900; color:#1f2f45;">
        Энэ дэлгэцийг скриншот хийж багш руугаа илгээнэ үү.
      </p>
